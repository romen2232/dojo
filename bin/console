#!/usr/bin/env php
<?php

require __DIR__.'/../vendor/autoload.php';

use Symfony\Component\Console\Application;
use Dojo\Infrastructure\Adapters\Input\Console\ScrapeKataCommand;
use Dojo\Infrastructure\Adapters\Input\Console\GenerateKataFilesCommand;
use Dojo\Infrastructure\Adapters\Output\CodewarsKataRepository;
use Dojo\Application\Service\KataScraperService;

$application = new Application('Dojo Wars', '1.0.0');

$kataRepository = new CodewarsKataRepository();
$kataScraperService = new KataScraperService($kataRepository);
$application->add(new ScrapeKataCommand($kataScraperService));
$application->add(new GenerateKataFilesCommand());

$application->run();
